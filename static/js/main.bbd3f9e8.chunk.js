(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,a,t){e.exports={"add-car":"AddCar_add-car__22KBP","new-add-car":"AddCar_new-add-car__3dphz","add-car-form":"AddCar_add-car-form__29hoP","add-button":"AddCar_add-button__2edol",control:"AddCar_control__27Wdl",input:"AddCar_input__2aMkM",actions:"AddCar_actions__23U7Y"}},,function(e,a,t){e.exports={"new-service":"NewService_new-service__1QUB2","service-form":"NewService_service-form__1IyIy","service-date-box":"NewService_service-date-box__Z3JO5",control:"NewService_control__1SXbh",actions:"NewService_actions__gmLC1"}},,,,,,,,,function(e,a,t){e.exports={"car-services":"CarServices_car-services__3m8lP","car-services-box":"CarServices_car-services-box__eYiE0","car-services-list":"CarServices_car-services-list__pM0NX","button-add":"CarServices_button-add__1kmdn"}},function(e,a,t){e.exports={login:"Login_login__1FFeP",actions:"Login_actions__1duyZ"}},function(e,a,t){},function(e,a,t){e.exports={registration:"AddUser_registration__1sxFf",actions:"AddUser_actions__2p2nZ"}},function(e,a,t){e.exports={control:"Input_control__2mM2Y",invalid:"Input_invalid__1uq90"}},function(e,a,t){e.exports={background:"Img_background__30V_8","background-img":"Img_background-img__29Atb"}},function(e,a,t){e.exports={"background-img":"Home_background-img__suMB7"}},function(e,a,t){e.exports={"cars-list":"Cars_cars-list__2VKlO",active:"Cars_active__1PgmH","car-info":"Cars_car-info__9JBR-"}},,,,function(e,a,t){e.exports={card:"Card_card__3sK0-"}},function(e,a,t){e.exports={button:"Button_button__1M8_7"}},,function(e,a,t){e.exports=t.p+"static/media/formula.e8447ff3.jfif"},function(e,a,t){e.exports={"car-info-list":"CarInfo_car-info-list__177wB"}},function(e,a,t){e.exports={background:"Garage_background__1qm21"}},function(e,a,t){e.exports=t.p+"static/media/Awesome-garage.c6ae908c.jfif"},function(e,a,t){e.exports={nav:"Navigation_nav__JXA6M"}},function(e,a,t){e.exports={header:"Header_header__11xEb"}},,function(e,a,t){e.exports=t(69)},,,,,function(e,a,t){},,,,,,,,,,,,,,,,,,,,,,function(e,a,t){"use strict";t.r(a);var n=t(1),c=t.n(n),l=t(31),r=t.n(l),i=(t(47),t(4)),u=t(32),s=t.n(u),o=function(e){return c.a.createElement("div",{className:"".concat(s.a.card," ").concat(e.className)},e.children)},d=t(22),m=t.n(d),v=t(33),b=t.n(v),f=function(e){return c.a.createElement("button",{type:e.type||"button",className:"".concat(b.a.button," ").concat(e.className),onClick:e.onClick,disabled:e.disabled},e.children)},g=c.a.createContext({isLoggedIn:!1,onLogout:function(){},onLogin:function(e,a){}}),E=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),l=t[0],r=t[1],u=Object(n.useState)(!1),s=Object(i.a)(u,2),o=s[0],d=s[1];Object(n.useEffect)(function(){"1"===localStorage.getItem("isLoggedIn")&&r(!0)},[]);return c.a.createElement(g.Provider,{value:{isLoggedIn:l,isLogin:o,onLogout:function(){localStorage.removeItem("isLoggedIn"),r(!1),d(!1)},onLogin:function(){localStorage.setItem("isLoggedIn","1"),r(!0)},loginBtn:function(){d(!0)}}},e.children)},_=g,p=t(25),N=t.n(p),j=c.a.forwardRef(function(e,a){return c.a.createElement("div",{className:"".concat(N.a.control," ").concat(e.className," ").concat(!1===e.isValid?N.a.invalid:"")},c.a.createElement("label",{htmlFor:e.id},e.label),c.a.createElement("input",{ref:a,type:e.type,id:e.id,value:e.value,onChange:e.onChange||void 0,onBlur:e.onBlur}))}),I=function(e,a){return"USER_INPUT"===a.type?{value:a.val,isValid:a.val.includes("@")}:"INPUT_BLUR"===a.type?{value:e.value,isValid:e.value.includes("@")}:{value:"",isValid:!1}},O=function(e,a){return"USER_INPUT"===a.type?{value:a.val,isValid:a.val.trim().length>6}:"INPUT_BLUR"===a.type?{value:e.value,isValid:e.value.trim().length>6}:{value:"",isValid:!1}},y=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),l=t[0],r=t[1],u=Object(n.useReducer)(I,{value:"",isValid:null}),s=Object(i.a)(u,2),d=s[0],v=s[1],b=Object(n.useReducer)(O,{value:"",isValid:null}),g=Object(i.a)(b,2),E=g[0],p=g[1],N=Object(n.useContext)(_),y=d.isValid,C=E.isValid;Object(n.useEffect)(function(){var e=setTimeout(function(){r(y&&C)},500);return function(){clearTimeout(e)}},[y,C]);return c.a.createElement(o,{className:m.a.login},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),N.onLogin(d.value,E.value)}},c.a.createElement(j,{id:"email",label:"E-Mail",type:"email",isValid:y,value:d.value,onChange:function(e){v({type:"USER_INPUT",val:e.target.value})},onBlur:function(){v({type:"INPUT_BLUR"})}}),c.a.createElement(j,{id:"password",label:"Password",type:"password",isValid:C,value:E.value,onChange:function(e){p({type:"USER_INPUT",val:e.target.value})},onBlur:function(){p({type:"INPUT_BLUR"})}}),c.a.createElement("div",{className:m.a.actions},c.a.createElement(f,{type:"submit",className:m.a.btn,disabled:!l},"Login"))))},C=t(26),L=t.n(C),V=function(e){return c.a.createElement("div",{className:L.a.background},c.a.createElement("img",{src:e.src,alt:e.alt,className:"".concat(L.a["background-img"]," ").concat(e.className)}))},S=function(e){return e.children},h=t(23),x=t.n(h),U=function(){return c.a.createElement(S,null,c.a.createElement("div",{className:x.a.header},c.a.createElement("h1",{id:"title",className:"".concat(x.a.title," ").concat(x.a["title-top"])},"Guests")))},w=t(24),k=t.n(w),P=t(34),R=t(13),A=Object(P.a)({apiKey:"AIzaSyAwMYLr2FPaIB6Y9tF2Zr3WbAeKyFuXlJE",authDomain:"my-garage-bf68b.firebaseapp.com",databaseURL:"https://my-garage-bf68b-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-garage-bf68b",storageBucket:"my-garage-bf68b.appspot.com",messagingSenderId:"679999887316",appId:"1:679999887316:web:2c36772d69f106ecb76841"}),F=Object(R.a)(A),T=t(20),B=function(e){var a=Object(n.useState)(""),t=Object(i.a)(a,2),l=t[0],r=t[1],u=Object(n.useState)(),s=Object(i.a)(u,2),d=s[0],m=s[1],v=Object(n.useState)(!1),b=Object(i.a)(v,2),g=b[0],E=b[1];return c.a.createElement(S,null,c.a.createElement(o,{className:k.a.registration},c.a.createElement(j,{id:"email",label:"Email",type:"text",value:l,isValid:d,onChange:function(e){r(e.target.value),e.target.value.includes("@")?(m(!0),E(!0)):(m(!1),E(!1))}}),c.a.createElement("div",{className:k.a.actions},c.a.createElement(f,{type:"submit",onClick:function(){var a=Object(T.a)();Object(R.d)(Object(R.c)(F,"/".concat(a)),{email:l,userId:a,cars:"none"}),r(""),e.onFill()},className:k.a.btn,disabled:!g},"Register"))))},M=t(27),D=t.n(M),J=t(35),Y=t.n(J),K=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),l=t[0],r=t[1],u=Object(n.useContext)(_);return c.a.createElement(c.a.Fragment,null,c.a.createElement(V,{src:Y.a,alt:"Formula",className:D.a["background-img"]}),c.a.createElement(o,{className:D.a.home},u.isLogin&&c.a.createElement(y,null),l&&!u.isLogin&&c.a.createElement(U,null),!l&&!u.isLogin&&c.a.createElement(B,{onFill:function(){r(!0)}})))},X=t(36),Z=t.n(X),z=function(e){var a=e.cars.filter(function(a){return a.carId===e.loadCarId}),t=a.map(function(e){return c.a.createElement("div",{key:e.carId,className:Z.a["car-info-list"]},c.a.createElement("ul",null,c.a.createElement("li",null,"brand:",c.a.createElement("p",null,e.brand)),c.a.createElement("li",null,"series:",c.a.createElement("p",null,e.series)),c.a.createElement("li",null,"model:",c.a.createElement("p",null,e.model)),c.a.createElement("li",null,"year:",c.a.createElement("p",null,e.year)),c.a.createElement("li",null,"engine:",c.a.createElement("p",null,e.engine)),c.a.createElement("li",null,"mileage:",c.a.createElement("p",null,e.mileage))))});return c.a.createElement(S,null,t)},G=t(12),H=t.n(G),q=function(e,a){return"FILL_INPUT"===a.type?{value:a.val,isValid:""!==a.val}:{value:"",isValid:!1}},W=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),l=t[0],r=t[1],u=Object(n.useRef)(null),s=Object(n.useReducer)(q,{value:"",isValid:null}),o=Object(i.a)(s,2),d=o[0],m=o[1],v=Object(n.useReducer)(q,{value:"",isValid:null}),b=Object(i.a)(v,2),g=b[0],E=b[1],_=Object(n.useReducer)(q,{value:"",isValid:null}),p=Object(i.a)(_,2),N=p[0],I=p[1];Object(n.useEffect)(function(){r(d.isValid&&g.isValid&&N.isValid)},[d,g,N]);return c.a.createElement("div",{className:H.a["new-service"]},c.a.createElement("div",{className:H.a["service-form"]},c.a.createElement("form",{onSubmit:function(a){if(a.preventDefault(),l){var t=0===u.current.value.trim()?"---":u.current.value,n=g.value.split("-"),c=Object(i.a)(n,3),r=c[0],s=c[1],o=c[2],m="".concat(o,"-").concat(s,"-").concat(r),v=Object(T.a)();Object(R.d)(Object(R.c)(F,"/".concat(e.userId,"/cars/").concat(e.carId,"/services/").concat(v)),{serviceId:v,service:d.value,mileage:N.value,date:m,info:t}),e.carNewService()}}},c.a.createElement(j,{id:"service",label:"Service",type:"text",isValid:d.isValid,value:d.value,onChange:function(e){m({type:"FILL_INPUT",val:e.target.value})},className:"".concat(H.a.control," ").concat(H.a["service-name"])}),c.a.createElement("div",{className:H.a["service-date-box"]},c.a.createElement(j,{id:"date",label:"Date",type:"date",isValid:g.isValid,value:g.value,onChange:function(e){E({type:"FILL_INPUT",val:e.target.value})},className:"".concat(H.a.control," ").concat(H.a["service-date"])}),c.a.createElement(j,{id:"mileage",label:"Mileage",type:"number",isValid:N.isValid,value:N.value,onChange:function(e){I({type:"FILL_INPUT",val:e.target.value})},className:"".concat(H.a.control," ").concat(H.a["service-mileage"])})),c.a.createElement("div",{className:H.a.control},c.a.createElement(j,{id:"info",label:"Info",type:"text",ref:u,className:"".concat(H.a.control," ").concat(H.a["service-mileage"])})),c.a.createElement("div",{className:H.a.actions},c.a.createElement(f,{type:"submit",className:H.a.btn},"Add Service")))))},Q=t(21),$=t.n(Q),ee=function(e){var a=Object(n.useState)(),t=Object(i.a)(a,2),l=t[0],r=t[1],u=[],s=e.cars.filter(function(a){return a.carId===e.carId}).reduce(function(e,a){if("none"!==a.services)return a.services},{});for(var o in s)u.push({id:o,service:s[o].service,mileage:s[o].mileage,date:s[o].date,info:s[o].info});var d=u.map(function(e,a){return c.a.createElement("div",{key:a,className:$.a["car-services-list"]},c.a.createElement("ul",null,c.a.createElement("li",null,"service: ",c.a.createElement("p",null,e.service)),c.a.createElement("li",null,"date: ",c.a.createElement("p",null,e.date)),c.a.createElement("li",null,"mileage: ",c.a.createElement("p",null,e.mileage," km")),c.a.createElement("li",null,"info: ",c.a.createElement("p",null,e.info))))});return c.a.createElement("div",{className:$.a["car-services"]},c.a.createElement("div",{className:$.a["car-services-box"]},d),l&&c.a.createElement(W,{carNewService:function(e){r(!1)},carId:e.carId,userId:e.userId}),!l&&c.a.createElement(f,{className:$.a["button-add"],onClick:function(){r(!0)}},"Add New Service"))},ae=t(28),te=t.n(ae),ne=t(10),ce=t.n(ne),le=function(e,a){return"FILL_INPUT"===a.type?{value:a.val,isValid:""!==a.val}:{value:"",isValid:!1}},re=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),l=t[0],r=t[1],u=Object(n.useReducer)(le,{value:"",isValid:null}),s=Object(i.a)(u,2),o=s[0],d=s[1],m=Object(n.useReducer)(le,{value:"",isValid:null}),v=Object(i.a)(m,2),b=v[0],g=v[1],E=Object(n.useReducer)(le,{value:"",isValid:null}),_=Object(i.a)(E,2),p=_[0],N=_[1],I=Object(n.useReducer)(le,{value:"",isValid:null}),O=Object(i.a)(I,2),y=O[0],C=O[1],L=Object(n.useReducer)(le,{value:"",isValid:null}),V=Object(i.a)(L,2),S=V[0],h=V[1],x=Object(n.useReducer)(le,{value:"",isValid:null}),U=Object(i.a)(x,2),w=U[0],k=U[1];Object(n.useEffect)(function(){r(o.isValid&&y.isValid&&p.isValid)},[o,y,p]);return c.a.createElement("div",{className:ce.a["add-car"]},c.a.createElement("form",{className:ce.a["add-car-form"],onSubmit:function(a){a.preventDefault();var t={brand:o.value,series:b.value,model:w.value,year:y.value,engine:S.value,mileage:p.value};e.onAdd(t),e.onClose()}},c.a.createElement("div",{className:ce.a.control},c.a.createElement(j,{id:"brand",label:"Brand",type:"text",isValid:o.isValid,value:o.value,onChange:function(e){d({type:"FILL_INPUT",val:e.target.value})},className:"".concat(ce.a.input," ").concat(ce.a["add-car-brand"])})),c.a.createElement("div",{className:ce.a.control},c.a.createElement(j,{id:"series",label:"Series",type:"text",isValid:b.isValid,value:b.value,onChange:function(e){g({type:"FILL_INPUT",val:e.target.value})},className:"".concat(ce.a.input," ").concat(ce.a["add-car-series"])})),c.a.createElement("div",{className:ce.a.control},c.a.createElement(j,{id:"model",label:"Model",type:"text",isValid:w.isValid,value:w.value,onChange:function(e){k({type:"FILL_INPUT",val:e.target.value})},className:"".concat(ce.a.input," ").concat(ce.a["add-car-model"])})),c.a.createElement("div",{className:ce.a.control},c.a.createElement(j,{id:"year",label:"Year",type:"number",isValid:y.isValid,value:y.value,onChange:function(e){C({type:"FILL_INPUT",val:e.target.value})},className:"".concat(ce.a.input," ").concat(ce.a["add-car-year"])})),c.a.createElement("div",{className:ce.a.control},c.a.createElement(j,{id:"engine",label:"Engine",type:"text",isValid:S.isValid,value:S.value,onChange:function(e){h({type:"FILL_INPUT",val:e.target.value})},className:"".concat(ce.a.input," ").concat(ce.a["add-car-engine"])})),c.a.createElement("div",{className:ce.a.control},c.a.createElement(j,{id:"mileage",label:"Mileage",type:"number",isValid:p.isValid,value:p.value,onChange:function(e){N({type:"FILL_INPUT",val:e.target.value})},className:"".concat(ce.a.input," ").concat(ce.a["service-mileage"])})),c.a.createElement("div",{className:"".concat(ce.a.actions," ").concat(ce.a["add-button"])},c.a.createElement(f,{type:"submit",disabled:!l,className:ce.a.btn},"Add Car"))))},ie=function(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),l=t[0],r=t[1],u=Object(n.useState)("6e1dc362ead"),s=Object(i.a)(u,2),o=s[0],d=s[1],m=[],v=e.cars;for(var b in v)m.push({carId:b,brand:v[b].brand,series:v[b].series,model:v[b].model,year:v[b].year,mileage:v[b].mileage,engine:v[b].engine,services:v[b].services});var f=function(e){d(e.target.dataset.id),r(!1)},g=m.map(function(e){return c.a.createElement("li",{key:e.carId},c.a.createElement("button",{onClick:f,"data-id":e.carId},e.brand," ",e.series))});return c.a.createElement(S,null,c.a.createElement("div",{className:te.a["cars-list"]},c.a.createElement("ul",null,g,c.a.createElement("li",null,c.a.createElement("button",{onClick:function(){r(!0)}},"Add Car")))),c.a.createElement("div",{className:te.a["car-info"]},!l&&c.a.createElement(z,{cars:m,loadCarId:o,userId:e.userId}),!l&&c.a.createElement(ee,{cars:m,carId:o,userId:e.userId}),l&&c.a.createElement(re,{onAdd:function(a){var t=Object(T.a)();Object(R.d)(Object(R.c)(F,"/".concat(e.userId,"/cars/").concat(t)),{carId:t,brand:a.brand,model:a.model,series:a.series,year:a.year,engine:a.engine,mileage:a.mileage,services:"none"})},onClose:function(){r(!1)}})))},ue=t(37),se=t.n(ue),oe=t(38),de=t.n(oe),me=c.a.createContext({cars:[],addCar:function(){},updateCar:function(){},removeCar:function(){}}),ve=function(e){Object(n.useContext)(me);var a=Object(n.useState)({}),t=Object(i.a)(a,2),l=t[0],r=t[1],u=Object(n.useState)(!0),s=Object(i.a)(u,2),d=s[0],m=s[1],v=Object(n.useState)(!1),b=Object(i.a)(v,2),f=b[0];b[1];if(Object(n.useEffect)(function(){Object(R.b)(Object(R.c)(F),function(e){var a=e.val();if(null!==a){var t=Object.values(a).reduce(function(e,a){return"zaryooo@gmail.com"===a.email&&(e=a),e},{});r(t)}}),m(!1)},[]),d)return c.a.createElement(o,null,c.a.createElement("p",null,"Loading..."));if(f)return c.a.createElement(o,null,c.a.createElement("p",null,f));var g=l.cars,E=(l.email,l.userId);return c.a.createElement(S,null,c.a.createElement(V,{src:de.a,alt:"Awesome garage"}),c.a.createElement(o,{className:se.a.garage},c.a.createElement(ie,{cars:g,userId:E})))},be=t(39),fe=t.n(be),ge=function(e){var a=Object(n.useContext)(_);return c.a.createElement("nav",{className:fe.a.nav},a.isLoggedIn&&c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",{href:"/"},"Cars")),c.a.createElement("li",null,c.a.createElement("a",{href:"/"},"Settings")),c.a.createElement("li",null,c.a.createElement("button",{onClick:a.onLogout},"Logout"))),!a.isLoggedIn&&c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",{href:"/"},"Register")),c.a.createElement("li",null,c.a.createElement("button",{onClick:a.loginBtn},"Login"))))},Ee=t(40),_e=t.n(Ee),pe=function(e){return c.a.createElement("header",{className:_e.a.header},c.a.createElement("h1",null,"My Garage"),c.a.createElement(ge,{showLogin:e.getLogin}))},Ne={cars:[]},je=function(e,a){return"ADD"===a.type?{cars:e.cars.concat(a.car)}:Ne},Ie=function(e){var a=Object(n.useReducer)(je,Ne),t=Object(i.a)(a,2),l=t[0],r=t[1],u={cars:l.cars,addAllCars:function(e){},addCar:function(e){console.log(e),r({type:"ADD",car:e})},updateCar:function(e){},removeCar:function(e){}};return c.a.createElement(me.Provider,{value:u},e.children)};var Oe=function(e){var a=Object(n.useContext)(_);return c.a.createElement(Ie,null,c.a.createElement(pe,null),c.a.createElement("main",null,!a.isLoggedIn&&c.a.createElement(K,null),a.isLoggedIn&&c.a.createElement(ve,null)))};r.a.render(c.a.createElement(E,null,c.a.createElement(Oe,null)),document.getElementById("root"))}],[[42,2,1]]]);
//# sourceMappingURL=main.bbd3f9e8.chunk.js.map